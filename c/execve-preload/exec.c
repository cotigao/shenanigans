#define _GNU_SOURCE
#include <dlfcn.h>
#include <stdio.h>
#include <unistd.h>
#include <errno.h>
#include <string.h>

static int (*real_exec)(const char*, char *const [], char *const []) = 0;
static void __attribute__((constructor))init(void) {
    real_exec = (int (*)(const char*, char *const [], char *const []))dlsym(RTLD_NEXT, "execve");
}

int execve(const char* arg, char *const argv[], char *const envp[]) {
    printf ("in wrapper\n");
    return (*real_exec)(arg, argv, envp); 
}

/*  void* malloc(size_t size) {
    return NULL;
}*/
